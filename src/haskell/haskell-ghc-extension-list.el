;; haskell-ghc-extension-list.el --- -*- lexical-binding: t; -*-

;; Copyright (C) Sergey Vinokurov
;;
;; Author: Sergey Vinokurov <sergey@debian>
;; Created: 17 January 2020
;; Description:

;;;###autoload (autoload 'get-haskell-language-extensions "haskell-ghc-extension-list" nil t)
(defun-once get-haskell-language-extensions
  ;; Make this list from documentation, e.g.
  ;; http://www.haskell.org/ghc/docs/7.6.3/html/users_guide/flag-reference.html
  ;; command: '<,'>s/^-X\([^\t]+\)\t\([^\t]+\)\t[^\t]+\t-\(?:X\(.*\)\)?/("\1" "\2" "\3")/
  (if-let (ghc-exec (cached-executable-find "ghc"))
      (with-temp-buffer
        (call-process ghc-exec
                      nil
                      (current-buffer)
                      nil
                      "--supported-extensions")
        (sort
         (split-string (buffer-substring-no-properties (point-min) (point-max))
                       "[\n\r]+"
                       t
                       "[ \t]+")
         #'string<))
    ;; TODO: add default
    '("AllowAmbiguousTypes"
      "AlternativeLayoutRule"
      "AlternativeLayoutRuleTransitional"
      "ApplicativeDo"
      "Arrows"
      "AutoDeriveTypeable"
      "BangPatterns"
      "BinaryLiterals"
      "BlockArguments"
      "CApiFFI"
      "CPP"
      "ConstrainedClassMethods"
      "ConstraintKinds"
      "DataKinds"
      "DatatypeContexts"
      "DefaultSignatures"
      "DeriveAnyClass"
      "DeriveDataTypeable"
      "DeriveFoldable"
      "DeriveFunctor"
      "DeriveGeneric"
      "DeriveLift"
      "DeriveTraversable"
      "DerivingStrategies"
      "DerivingVia"
      "DisambiguateRecordFields"
      "DoAndIfThenElse"
      "DoRec"
      "DuplicateRecordFields"
      "EmptyCase"
      "EmptyDataDecls"
      "EmptyDataDeriving"
      "ExistentialQuantification"
      "ExplicitForAll"
      "ExplicitNamespaces"
      "ExtendedDefaultRules"
      "FlexibleContexts"
      "FlexibleInstances"
      "ForeignFunctionInterface"
      "FunctionalDependencies"
      "GADTSyntax"
      "GADTs"
      "GHCForeignImportPrim"
      "GeneralisedNewtypeDeriving"
      "GeneralizedNewtypeDeriving"
      "Haskell2010"
      "Haskell98"
      "HexFloatLiterals"
      "ImplicitParams"
      "ImplicitPrelude"
      "ImpredicativeTypes"
      "IncoherentInstances"
      "InstanceSigs"
      "InterruptibleFFI"
      "JavaScriptFFI"
      "KindSignatures"
      "LambdaCase"
      "LiberalTypeSynonyms"
      "MagicHash"
      "MonadComprehensions"
      "MonadFailDesugaring"
      "MonoLocalBinds"
      "MonoPatBinds"
      "MonomorphismRestriction"
      "MultiParamTypeClasses"
      "MultiWayIf"
      "NPlusKPatterns"
      "NamedFieldPuns"
      "NamedWildCards"
      "NegativeLiterals"
      "NoAllowAmbiguousTypes"
      "NoAlternativeLayoutRule"
      "NoAlternativeLayoutRuleTransitional"
      "NoApplicativeDo"
      "NoArrows"
      "NoAutoDeriveTypeable"
      "NoBangPatterns"
      "NoBinaryLiterals"
      "NoBlockArguments"
      "NoCApiFFI"
      "NoCPP"
      "NoConstrainedClassMethods"
      "NoConstraintKinds"
      "NoDataKinds"
      "NoDatatypeContexts"
      "NoDefaultSignatures"
      "NoDeriveAnyClass"
      "NoDeriveDataTypeable"
      "NoDeriveFoldable"
      "NoDeriveFunctor"
      "NoDeriveGeneric"
      "NoDeriveLift"
      "NoDeriveTraversable"
      "NoDerivingStrategies"
      "NoDerivingVia"
      "NoDisambiguateRecordFields"
      "NoDoAndIfThenElse"
      "NoDoRec"
      "NoDuplicateRecordFields"
      "NoEmptyCase"
      "NoEmptyDataDecls"
      "NoEmptyDataDeriving"
      "NoExistentialQuantification"
      "NoExplicitForAll"
      "NoExplicitNamespaces"
      "NoExtendedDefaultRules"
      "NoFlexibleContexts"
      "NoFlexibleInstances"
      "NoForeignFunctionInterface"
      "NoFunctionalDependencies"
      "NoGADTSyntax"
      "NoGADTs"
      "NoGHCForeignImportPrim"
      "NoGeneralisedNewtypeDeriving"
      "NoGeneralizedNewtypeDeriving"
      "NoHexFloatLiterals"
      "NoImplicitParams"
      "NoImplicitPrelude"
      "NoImpredicativeTypes"
      "NoIncoherentInstances"
      "NoInstanceSigs"
      "NoInterruptibleFFI"
      "NoJavaScriptFFI"
      "NoKindSignatures"
      "NoLambdaCase"
      "NoLiberalTypeSynonyms"
      "NoMagicHash"
      "NoMonadComprehensions"
      "NoMonadFailDesugaring"
      "NoMonoLocalBinds"
      "NoMonoPatBinds"
      "NoMonomorphismRestriction"
      "NoMultiParamTypeClasses"
      "NoMultiWayIf"
      "NoNPlusKPatterns"
      "NoNamedFieldPuns"
      "NoNamedWildCards"
      "NoNegativeLiterals"
      "NoNondecreasingIndentation"
      "NoNullaryTypeClasses"
      "NoNumDecimals"
      "NoNumericUnderscores"
      "NoOverlappingInstances"
      "NoOverloadedLabels"
      "NoOverloadedLists"
      "NoOverloadedStrings"
      "NoPackageImports"
      "NoParallelArrays"
      "NoParallelListComp"
      "NoPartialTypeSignatures"
      "NoPatternGuards"
      "NoPatternSignatures"
      "NoPatternSynonyms"
      "NoPolyKinds"
      "NoPolymorphicComponents"
      "NoPostfixOperators"
      "NoQuantifiedConstraints"
      "NoQuasiQuotes"
      "NoRank2Types"
      "NoRankNTypes"
      "NoRebindableSyntax"
      "NoRecordPuns"
      "NoRecordWildCards"
      "NoRecursiveDo"
      "NoRelaxedLayout"
      "NoRelaxedPolyRec"
      "NoRoleAnnotations"
      "NoScopedTypeVariables"
      "NoStandaloneDeriving"
      "NoStarIsType"
      "NoStaticPointers"
      "NoStrict"
      "NoStrictData"
      "NoTemplateHaskell"
      "NoTemplateHaskellQuotes"
      "NoTraditionalRecordSyntax"
      "NoTransformListComp"
      "NoTupleSections"
      "NoTypeApplications"
      "NoTypeFamilies"
      "NoTypeFamilyDependencies"
      "NoTypeInType"
      "NoTypeOperators"
      "NoTypeSynonymInstances"
      "NoUnboxedSums"
      "NoUnboxedTuples"
      "NoUndecidableInstances"
      "NoUndecidableSuperClasses"
      "NoUnicodeSyntax"
      "NoUnliftedFFITypes"
      "NoViewPatterns"
      "NondecreasingIndentation"
      "NullaryTypeClasses"
      "NumDecimals"
      "NumericUnderscores"
      "OverlappingInstances"
      "OverloadedLabels"
      "OverloadedLists"
      "OverloadedStrings"
      "PackageImports"
      "ParallelArrays"
      "ParallelListComp"
      "PartialTypeSignatures"
      "PatternGuards"
      "PatternSignatures"
      "PatternSynonyms"
      "PolyKinds"
      "PolymorphicComponents"
      "PostfixOperators"
      "QuantifiedConstraints"
      "QuasiQuotes"
      "Rank2Types"
      "RankNTypes"
      "RebindableSyntax"
      "RecordPuns"
      "RecordWildCards"
      "RecursiveDo"
      "RelaxedLayout"
      "RelaxedPolyRec"
      "RoleAnnotations"
      "Safe"
      "ScopedTypeVariables"
      "StandaloneDeriving"
      "StarIsType"
      "StaticPointers"
      "Strict"
      "StrictData"
      "TemplateHaskell"
      "TemplateHaskellQuotes"
      "TraditionalRecordSyntax"
      "TransformListComp"
      "Trustworthy"
      "TupleSections"
      "TypeApplications"
      "TypeFamilies"
      "TypeFamilyDependencies"
      "TypeInType"
      "TypeOperators"
      "TypeSynonymInstances"
      "UnboxedSums"
      "UnboxedTuples"
      "UndecidableInstances"
      "UndecidableSuperClasses"
      "UnicodeSyntax"
      "UnliftedFFITypes"
      "Unsafe"
      "ViewPatterns")))

(provide 'haskell-ghc-extension-list)

;; Local Variables:
;; End:

;; haskell-ghc-extension-list.el ends here
